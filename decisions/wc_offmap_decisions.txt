offmap_decisions = {
	offmap_sacrifice = {
		only_playable = yes
		button_name = offmap_gifts

		third_party_filter = home_court
		ai_third_party_filter = home_court
		third_party = FROM
		ai_check_interval = 24
		show_third_party_potential = yes

		potential = {
			OR = {
				AND = {
					is_offmap_tag = offmap_cthun
					NOT = { offmap_cthun = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_nzoth
					NOT = { offmap_nzoth = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_yoggsaron
					NOT = { offmap_yoggsaron = { has_status = old_god_dead } }
				}
			}
		}

		from_potential = {
			mercenary = no
			holy_order = no
			is_landed = yes
		}

		allow = {
			FROM = {
				show_scope_change = no

				prisoner = no
				is_incapable = no
				is_inaccessible_trigger = no

				trigger_if = {
					limit = { ROOT = { is_offmap_tag = offmap_cthun } }
					cthun_offmap_decisions_enabled_trigger = yes
				}
				trigger_else_if = {
					limit = { ROOT = { is_offmap_tag = offmap_nzoth } }
					nzoth_offmap_decisions_enabled_trigger = yes
				}
				trigger_else = {
					yogg_saron_offmap_decisions_enabled_trigger = yes
				}
			}
		}

		third_party_potential = {
			show_only_failed_conditions = yes
			FROMFROM = {
				show_scope_change = no
				prisoner = yes
				host = { character = ROOT_FROM }
			}
		}

		third_party_allow = {
			#show_only_failed_conditions = yes
		}

		third_party_score = {
			factor = 100

			# Priests
			additive_modifier = {
				value = 500
				FROMFROM = {
					show_scope_change = no
					controls_religion = yes
				}
			}
			additive_modifier = {
				value = 100
				FROMFROM = {
					show_scope_change = no
					OR = {
						is_priest = yes
						is_ascetic_trigger = yes
					}
				}
			}

			# Rulers and tiers
			additive_modifier = {
				value = 50
				FROMFROM = {
					show_scope_change = no
					tier = BARON
				}
			}
			additive_modifier = {
				value = 700
				FROMFROM = {
					show_scope_change = no
					tier = EMPEROR
				}
			}
			additive_modifier = {
				value = 400
				FROMFROM = {
					show_scope_change = no
					tier = KING
				}
			}
			additive_modifier = {
				value = 200
				FROMFROM = {
					show_scope_change = no
					tier = DUKE
				}
			}
			additive_modifier = {
				value = 100
				FROMFROM = {
					show_scope_change = no
					tier = COUNT
				}
			}
			# Class levels
			additive_modifier = {
				value = 50
				FROMFROM = {
					OR = {
						is_1_2_magic_class_trigger = yes
						is_1_2_physical_class_trigger = yes
					}
				}
			}
			additive_modifier = {
				value = 100
				FROMFROM = {
					OR = {
						is_3_4_magic_class_trigger = yes
						is_3_4_physical_class_trigger = yes
					}
				}
			}
			additive_modifier = {
				value = 150
				FROMFROM = {
					OR = {
						is_5_6_magic_class_trigger = yes
						is_5_6_physical_class_trigger = yes
					}
				}
			}
			additive_modifier = {
				value = 250
				FROMFROM = {
					OR = {
						is_7_8_magic_class_trigger = yes
						is_7_8_physical_class_trigger = yes
					}
				}
			}
			additive_modifier = {
				value = 400
				FROMFROM = {
					OR = {
						is_9_10_magic_class_trigger = yes
						is_9_10_physical_class_trigger = yes
					}
				}
			}

			# Has the blood of Twilight Viceroy
			modifier = {
				factor = 1.5
				FROM = {
					show_scope_change = no
					custom_tooltip = {
						text = bloodline_insanity_gain_tooltip
						any_owned_bloodline = { has_bloodline_flag = bloodline_insanity_gain }
					}
				}
			}

			# C'thun likes/dislikes
			modifier = {
				factor = 1.25
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_cthun } } }
				FROMFROM = {
					show_scope_change = no
					disliked_by_offmap = {
						type = offmap_cthun
					}
				}
			}
			modifier = {
				factor = 1.25
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_cthun } } }
				FROM = {
					show_scope_change = no
					liked_by_offmap = {
						type = offmap_cthun
					}
				}
			}
			modifier = {
				factor = 0.8
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_cthun } } }
				FROM = {
					show_scope_change = no
					disliked_by_offmap = {
						type = offmap_cthun
					}
				}
			}

			# N'zoth likes/dislikes
			modifier = {
				factor = 1.25
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_nzoth } } }
				FROMFROM = {
					show_scope_change = no
					disliked_by_offmap = {
						type = offmap_nzoth
					}
				}
			}
			modifier = {
				factor = 1.25
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_nzoth } } }
				FROM = {
					show_scope_change = no
					liked_by_offmap = {
						type = offmap_nzoth
					}
				}
			}
			modifier = {
				factor = 0.8
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_nzoth } } }
				FROM = {
					show_scope_change = no
					disliked_by_offmap = {
						type = offmap_nzoth
					}
				}
			}

			# Yogg-Saron likes/dislikes
			modifier = {
				factor = 1.25
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_yoggsaron } } }
				FROMFROM = {
					show_scope_change = no
					disliked_by_offmap = {
						type = offmap_yoggsaron
					}
				}
			}
			modifier = {
				factor = 1.25
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_yoggsaron } } }
				FROM = {
					show_scope_change = no
					liked_by_offmap = {
						type = offmap_yoggsaron
					}
				}
			}
			modifier = {
				factor = 0.8
				hidden_tooltip = { ROOT = { offmap_power = { is_offmap_tag = offmap_yoggsaron } } }
				FROM = {
					show_scope_change = no
					disliked_by_offmap = {
						type = offmap_yoggsaron
					}
				}
			}
		}

		effect = {
			log = "[From.GetBestName] sacrificed [FromFrom.GetBestName] to the Old Gods"

			FROM = {
				show_scope_change = no

				if = {
					limit = { ROOT = { offmap_power = { is_offmap_tag = offmap_cthun } } }
					add_offmap_currency = {
						offmap = offmap_cthun
						value = local_third_party_score
					}
				}
				else_if = {
					limit = { ROOT = { offmap_power = { is_offmap_tag = offmap_nzoth } } }
					add_offmap_currency = {
						offmap = offmap_nzoth
						value = local_third_party_score
					}
				}
				else = {
					add_offmap_currency = {
						offmap = offmap_yoggsaron
						value = local_third_party_score
					}
				}
			}
			FROMFROM = {
				show_scope_change = no

				death = { death_reason = death_sacrificed }
			}
			if = {
				limit = {
					FROMFROM = { is_virgin_trigger = yes }
					FROM = {
						has_quest = quest_the_devil_worshipers_sacrifice_virgin
					}
				}
				FROM = {
					clr_quest = quest_the_devil_worshipers_sacrifice_virgin
					add_society_currency_major_effect = yes
				}
			}
			if = {
				limit = {
					FROMFROM = {
						dark_public_religion_trigger = no
						secular_public_religion_trigger = no
						OR = {
							is_priest = yes
							is_ascetic_trigger = yes
						}
					}
					FROM = {
						has_quest = quest_the_devil_worshipers_sacrifice_holy_person
					}
				}
				FROM = {
					clr_quest = quest_the_devil_worshipers_sacrifice_holy_person
					add_society_currency_major_effect = yes
				}
			}
			if = {
				limit = {
					FROMFROM = { is_landed = yes }
					FROM = {
						has_quest = quest_the_devil_worshipers_sacrifice_ruler
					}
				}
				FROM = {
					clr_quest = quest_the_devil_worshipers_sacrifice_ruler
					add_society_currency_major_effect = yes
				}
			}
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3 # slow down
			}
		}
	}
	request_army_offmap = {
		only_playable = yes
		button_name = offmap_boons

		ai_check_interval = 24

		potential = {
			OR = {
				AND = {
					is_offmap_tag = offmap_cthun
					NOT = { offmap_cthun = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_nzoth
					NOT = { offmap_nzoth = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_yoggsaron
					NOT = { offmap_yoggsaron = { has_status = old_god_dead } }
				}
			}
		}
		from_potential = {
			mercenary = no
			holy_order = no
			is_landed = yes
		}
		allow = {
			trigger_if = {
				limit = { is_offmap_tag = offmap_cthun }
				FROM = {
					has_offmap_currency = { offmap = offmap_cthun value = 1000 }
					cthun_offmap_decisions_enabled_trigger = yes
				}
			}
			trigger_else_if = {
				limit = { is_offmap_tag = offmap_nzoth }
				FROM = {
					has_offmap_currency = { offmap = offmap_nzoth value = 1000 }
					nzoth_offmap_decisions_enabled_trigger = yes
				}
			}
			trigger_else = {
				FROM = {
					has_offmap_currency = { offmap = offmap_yoggsaron value = 1000 }
					yogg_saron_offmap_decisions_enabled_trigger = yes
				}
			}
			FROM = { religion = old_gods_worship }
		}
		effect = {
			if = {
				limit = {
					is_offmap_tag = offmap_cthun
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_cthun
						value = -1000
					}
					if = {
						limit = {
							offmap_cthun = {
								has_policy = old_god_plotting
							}
						}
						character_event = { id = WCOME.10 }
					}
					else_if = {
						limit = {
							offmap_cthun = {
								has_policy = old_god_working
							}
						}
						character_event = { id = WCOME.11 }
					}
					else = {
						character_event = { id = WCOME.12 }
					}
				}
			}
			else_if = {
				limit = {
					is_offmap_tag = offmap_nzoth
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_nzoth
						value = -1000
					}
					if = {
						limit = {
							offmap_nzoth = {
								has_policy = old_god_plotting
							}
						}
						character_event = { id = WCOME.10 }
					}
					else_if = {
						limit = {
							offmap_nzoth = {
								has_policy = old_god_working
							}
						}
						character_event = { id = WCOME.11 }
					}
					else = {
						character_event = { id = WCOME.12 }
					}
				}
			}
			else = {
				FROM = {
					add_offmap_currency = {
						offmap = offmap_yoggsaron
						value = -1000
					}
					if = {
						limit = {
							offmap_yoggsaron = {
								has_policy = old_god_plotting
							}
						}
						character_event = { id = WCOME.10 }
					}
					else_if = {
						limit = {
							offmap_yoggsaron = {
								has_policy = old_god_working
							}
						}
						character_event = { id = WCOME.11 }
					}
					else = {
						character_event = { id = WCOME.12 }
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3 # slow down
			}
		}
	}
	request_general_offmap = {
		only_playable = yes
		button_name = offmap_boons

		ai_check_interval = 12

		potential = {
			OR = {
				AND = {
					is_offmap_tag = offmap_cthun
					NOT = { offmap_cthun = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_nzoth
					NOT = { offmap_nzoth = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_yoggsaron
					NOT = { offmap_yoggsaron = { has_status = old_god_dead } }
				}
			}
		}
		from_potential = {
			#has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no
			is_landed = yes
		}
		allow = {
			trigger_if = {
				limit = { is_offmap_tag = offmap_cthun }
				FROM = {
					has_offmap_currency = { offmap = offmap_cthun value = 1000 }
					cthun_offmap_decisions_enabled_trigger = yes
				}
			}
			trigger_else_if = {
				limit = { is_offmap_tag = offmap_nzoth }
				FROM = {
					has_offmap_currency = { offmap = offmap_nzoth value = 1000 }
					nzoth_offmap_decisions_enabled_trigger = yes
				}
			}
			trigger_else = {
				FROM = {
					has_offmap_currency = { offmap = offmap_yoggsaron value = 1000 }
					yogg_saron_offmap_decisions_enabled_trigger = yes
				}
			}
			FROM = { religion = old_gods_worship }
		}
		effect = {
			if = {
				limit = {
					is_offmap_tag = offmap_cthun
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_cthun
						value = -1000
					}
					if = {
						limit = {
							offmap_cthun = {
								has_policy = old_god_plotting
							}
						}
						character_event = { id = WCOME.20 }
					}
					else = {
						character_event = { id = WCOME.25 }
					}
				}
			}
			else_if = {
				limit = {
					is_offmap_tag = offmap_nzoth
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_nzoth
						value = -1000
					}
					if = {
						limit = {
							offmap_nzoth = {
								has_policy = old_god_plotting
							}
						}
						character_event = { id = WCOME.21 }
					}
					else = {
						character_event = { id = WCOME.25 }
					}
				}
			}
			else = {
				FROM = {
					add_offmap_currency = {
						offmap = offmap_yoggsaron
						value = -1000
					}
					if = {
						limit = {
							offmap_yoggsaron = {
								has_policy = old_god_plotting
							}
						}
						character_event = { id = WCOME.22 }
					}
					else = {
						character_event = { id = WCOME.25 }
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3 # slow down
			}
		}
	}
	request_power_offmap = {
		only_playable = yes
		button_name = offmap_boons

		ai_check_interval = 36

		potential = {
			OR = {
				AND = {
					is_offmap_tag = offmap_cthun
					NOT = { offmap_cthun = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_nzoth
					NOT = { offmap_nzoth = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_yoggsaron
					NOT = { offmap_yoggsaron = { has_status = old_god_dead } }
				}
			}
		}
		from_potential = {
			mercenary = no
			holy_order = no
			is_landed = yes
		}
		allow = {
			trigger_if = {
				limit = { is_offmap_tag = offmap_cthun }
				FROM = {
					has_offmap_currency = { offmap = offmap_cthun value = 500 }
					cthun_offmap_decisions_enabled_trigger = yes
					lacks_offmap_power_trigger = yes
				}
			}
			trigger_else_if = {
				limit = { is_offmap_tag = offmap_nzoth }
				FROM = {
					has_offmap_currency = { offmap = offmap_nzoth value = 500 }
					nzoth_offmap_decisions_enabled_trigger = yes
					lacks_offmap_power_trigger = yes
				}
			}
			trigger_else = {
				FROM = {
					has_offmap_currency = { offmap = offmap_yoggsaron value = 500 }
					yogg_saron_offmap_decisions_enabled_trigger = yes
					lacks_offmap_power_trigger = yes
				}
			}
			hidden_tooltip = { FROM = { NOT = { has_character_flag = requested_offmap_power } } }
		}
		effect = {
			if = {
				limit = {
					is_offmap_tag = offmap_cthun
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_cthun
						value = -750
					}
					hidden_effect = {
						random_list = {
							90 = { character_event = { id = WCOME.30 } }
							10 = { character_event = { id = WCOME.31 } }
						}
					}
				}
			}
			else_if = {
				limit = {
					is_offmap_tag = offmap_nzoth
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_nzoth
						value = -750
					}
					hidden_effect = {
						random_list = {
							90 = { character_event = { id = WCOME.32 } }
							10 = { character_event = { id = WCOME.33 } }
						}
					}
				}
			}
			else = {
				FROM = {
					add_offmap_currency = {
						offmap = offmap_yoggsaron
						value = -750
					}
					hidden_effect = {
						random_list = {
							90 = { character_event = { id = WCOME.34 } }
							10 = { character_event = { id = WCOME.35 } }
						}
					}
				}
			}
			FROM = {
				hidden_effect = {
					set_character_flag = requested_offmap_power
					character_event = { id = WCVOD.100 }
					random_list = {
						5 = {
							character_event = { id = WCVOD.300 }
							modifier = {
								factor = 4
								check_variable = { which = void_corruption value = 77 }
							}
							modifier = {
								factor = 2
								check_variable = { which = void_corruption value = 88 }
							}
							modifier = {
								factor = 2
								check_variable = { which = void_corruption value = 99 }
							}
						}
						100 = {
							modifier = {
								factor = 0.8
								check_variable = { which = void_corruption value = 77 }
							}
							modifier = {
								factor = 0.5
								check_variable = { which = void_corruption value = 88 }
							}
							modifier = {
								factor = 0.25
								check_variable = { which = void_corruption value = 99 }
							}
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3 # slow down
			}
		}
	}
	request_elementium_offmap = {
		only_playable = yes
		button_name = offmap_boons

		ai_check_interval = 36

		potential = {
			OR = {
				AND = {
					is_offmap_tag = offmap_cthun
					NOT = { offmap_cthun = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_nzoth
					NOT = { offmap_nzoth = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_yoggsaron
					NOT = { offmap_yoggsaron = { has_status = old_god_dead } }
				}
			}
		}
		from_potential = {
			#has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no
			is_landed = yes
		}
		allow = {
			trigger_if = {
				limit = { is_offmap_tag = offmap_cthun }
				FROM = {
					has_offmap_currency = { offmap = offmap_cthun value = 1000 }
					cthun_offmap_decisions_enabled_trigger = yes
				}
			}
			trigger_else_if = {
				limit = { is_offmap_tag = offmap_nzoth }
				FROM = {
					has_offmap_currency = { offmap = offmap_nzoth value = 1000 }
					nzoth_offmap_decisions_enabled_trigger = yes
				}
			}
			trigger_else = {
				FROM = {
					has_offmap_currency = { offmap = offmap_yoggsaron value = 1000 }
					yogg_saron_offmap_decisions_enabled_trigger = yes
				}
			}
			FROM = {
				NOT = { has_character_modifier = twilight_architecture }
				religion = old_gods_worship
			}
		}
		effect = {
			if = {
				limit = {
					is_offmap_tag = offmap_cthun
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_cthun
						value = -1000
					}
					add_character_modifier = { name = twilight_architecture years = 5 }
				}
			}
			else_if = {
				limit = {
					is_offmap_tag = offmap_nzoth
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_nzoth
						value = -1000
					}
					add_character_modifier = { name = twilight_architecture years = 5 }
				}
			}
			else = {
				FROM = {
					add_offmap_currency = {
						offmap = offmap_yoggsaron
						value = -1000
					}
					add_character_modifier = { name = twilight_architecture years = 5 }
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3 # slow down
			}
		}
	}
	wake_old_god_offmap = {
		only_playable = yes
		button_name = offmap_boons

		ai_check_interval = 36

		potential = {
			OR = {
				AND = {
					is_offmap_tag = offmap_cthun
					NOT = { offmap_cthun = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_nzoth
					NOT = { offmap_nzoth = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_yoggsaron
					NOT = { offmap_yoggsaron = { has_status = old_god_dead } }
				}
			}
		}
		from_potential = {
			#has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no
			is_landed = yes
		}
		allow = {
			trigger_if = {
				limit = { is_offmap_tag = offmap_cthun }
				FROM = {
					OR = {
						has_offmap_currency = { offmap = offmap_cthun value = 8000 }
						AND = {
							total_years_played  = 100
							has_offmap_currency = { offmap = offmap_cthun value = 6000 }
						}
						AND = {
							total_years_played  = 200
							has_offmap_currency = { offmap = offmap_cthun value = 4000 }
						}
					}
					cthun_offmap_decisions_enabled_trigger = yes
				}
				OR = {
					b_ahnqiraj = { holder_scope = { character = FROM } }
					offmap_cthun = { has_status = old_god_imprisoned }
				}
				offmap_cthun = { NOT = { has_status = old_god_free } }
			}
			trigger_else_if = {
				limit = { is_offmap_tag = offmap_nzoth }
				FROM = {
					OR = {
						has_offmap_currency = { offmap = offmap_nzoth value = 8000 }
						AND = {
							total_years_played  = 100
							has_offmap_currency = { offmap = offmap_nzoth value = 6000 }
						}
						AND = {
							total_years_played  = 200
							has_offmap_currency = { offmap = offmap_nzoth value = 4000 }
						}
					}
					nzoth_offmap_decisions_enabled_trigger = yes
				}
				OR = {
					b_sagehold = { holder_scope = { character = FROM } }
					offmap_nzoth = { has_status = old_god_imprisoned }
				}
				offmap_nzoth = { NOT = { has_status = old_god_free } }
			}
			trigger_else = {
				FROM = {
					has_offmap_currency = { offmap = offmap_yoggsaron value = 8000 }
					yogg_saron_offmap_decisions_enabled_trigger = yes
				}
			}
			FROM = { religion = old_gods_worship }
		}
		effect = {
			if = {
				limit = {
					is_offmap_tag = offmap_cthun
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_cthun
						value = -8000
					}
				}
			}
			else_if = {
				limit = {
					is_offmap_tag = offmap_nzoth
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_nzoth
						value = -8000
					}
				}
			}
			else = {
				FROM = {
					add_offmap_currency = {
						offmap = offmap_yoggsaron
						value = -8000
					}
				}
			}
			FROM = { character_event = { id = WCOME.300 } }
		}
		ai_will_do = {
			factor = 1
		}
	}
	request_healing_offmap = {
		only_playable = yes
		button_name = offmap_boons

		ai_check_interval = 36

		potential = {
			OR = {
				AND = {
					is_offmap_tag = offmap_cthun
					NOT = { offmap_cthun = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_nzoth
					NOT = { offmap_nzoth = { has_status = old_god_dead } }
				}
				AND = {
					is_offmap_tag = offmap_yoggsaron
					NOT = { offmap_yoggsaron = { has_status = old_god_dead } }
				}
			}
		}
		from_potential = {
			#has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no
			is_landed = yes
		}
		allow = {
			trigger_if = {
				limit = { is_offmap_tag = offmap_cthun }
				FROM = {
					has_offmap_currency = { offmap = offmap_cthun value = 500 }
					cthun_offmap_decisions_enabled_trigger = yes
				}
			}
			trigger_else_if = {
				limit = { is_offmap_tag = offmap_nzoth }
				FROM = {
					has_offmap_currency = { offmap = offmap_nzoth value = 500 }
					nzoth_offmap_decisions_enabled_trigger = yes
				}
			}
			trigger_else = {
				FROM = {
					has_offmap_currency = { offmap = offmap_yoggsaron value = 500 }
					yogg_saron_offmap_decisions_enabled_trigger = yes
				}
			}
			FROM = {
				custom_tooltip = {
				text = devil_worshipers_dark_healing_tooltip
				OR = {

					has_disease_trigger = yes
					has_symptom_trigger = yes
					has_injury_trigger = yes
					is_maimed_trigger = yes
					trait = infirm
					trait = mangled
					trait = eunuch
					trait = blinded
					is_incapable = yes
				}
				}
				#religion = old_gods_worship
			}
		}
		effect = {
			if = {
				limit = {
					is_offmap_tag = offmap_cthun
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_cthun
						value = -500
					}
				}
			}
			else_if = {
				limit = {
					is_offmap_tag = offmap_nzoth
				}
				FROM = {
					add_offmap_currency = {
						offmap = offmap_nzoth
						value = -500
					}
				}
			}
			else = {
				FROM = {
					add_offmap_currency = {
						offmap = offmap_yoggsaron
						value = -500
					}
				}
			}
			FROM = {
				if = {
					limit = { trait = incapable }
					remove_trait = incapable
				}
				if = {
					limit = { trait = infirm }
					remove_trait = infirm
				}
				if = {
					limit = { trait = severely_injured }
					remove_trait = severely_injured
				}
				if = {
					limit = { trait = wounded }
					remove_trait = wounded
				}
				if = {
					limit = { trait = maimed }
					remove_trait = maimed
				}
				if = {
					limit = { trait = mangled }
					remove_trait = mangled
				}
				if = {
					limit = { trait = blind }
					remove_trait = blind
				}
				if = {
					limit = { trait = one_handed }
					remove_trait = one_handed
					if = {
						limit = {
							has_character_modifier = phantom_pain
							NOT = { trait = one_handed }
							NOT = { trait = one_legged }
							NOT = { trait = disfigured }
						}
						remove_character_modifier = phantom_pain
					}
					random_list = {
						20 = {
							add_trait = chela_hand_mutation
						}
						20 = {
							add_trait = tentacle_arm_mutation
						}
						60 = {
						}
					}
				}
				if = {
					limit = { trait = one_legged }
					remove_trait = one_legged
					if = {
						limit = {
							has_character_modifier = phantom_pain
							NOT = { trait = one_handed }
							NOT = { trait = one_eyed }
							NOT = { trait = disfigured }
						}
						remove_character_modifier = phantom_pain
					}
				}
				if = {
					limit = { trait = disfigured }
					remove_trait = disfigured
					if = {
						limit = {
							has_character_modifier = phantom_pain
							NOT = { trait = one_handed }
							NOT = { trait = one_eyed }
							NOT = { trait = one_legged }
						}
						remove_character_modifier = phantom_pain
					}
				}
				if = {
					limit = { trait = one_eyed }
					remove_trait = one_eyed
					if = {
						limit = {
							has_character_modifier = phantom_pain
							NOT = { trait = one_handed }
							NOT = { trait = one_legged }
							NOT = { trait = disfigured }
						}
						remove_character_modifier = phantom_pain
					}
					random = {
						chance = 30
						add_trait = eyes_mutation
					}
				}
				if = {
					limit = { trait = blinded }
					remove_trait = blinded
					random = {
						chance = 30
						add_trait = eyes_mutation
					}
				}
				if = {
					limit = { trait = eunuch }
					remove_trait = eunuch
				}
				if = {
					#general disease clearing effects:
					remove_symptoms_effect = yes
					clear_disease_level_effect = yes
					remove_disease_flags_effect = yes
					hidden_effect = { remove_treatment_modifiers_effect = yes }
				}
				random_list = {
					10 = {
						modifier = {
							factor = 100
							health = 10
						}
						modifier = {
							factor = 90
							health = 9
						}
						modifier = {
							factor = 80
							health = 8
						}
						modifier = {
							factor = 50
							health = 7
						}
						modifier = {
							factor = 30
							health = 6
						}
						modifier = {
							factor = 20
							health = 5
						}
						modifier = {
							factor = 15
							health = 4
						}
						modifier = {
							factor = 10
							health = 3
						}
						modifier = {
							factor = 5
							health = 2
						}
					}
					5 = {
						add_trait = tentacle_arm_mutation
						modifier = {
							factor = 0
							trait = tentacle_arm_mutation
						}
					}
					5 = {
						add_trait = chela_hand_mutation
						modifier = {
							factor = 0
							trait = chela_hand_mutation
						}
					}
					5 = {
						add_trait = chitinous_growths_mutation
						modifier = {
							factor = 0
							trait = chitinous_growths_mutation
						}
					}
					5 = {
						add_trait = spikes_mutation
						modifier = {
							factor = 0
							trait = spikes_mutation
						}
					}
					5 = {
						add_trait = scales_mutation
						modifier = {
							factor = 0
							trait = scales_mutation
						}
					}
					5 = {
						add_trait = eyes_mutation
						modifier = {
							factor = 0
							trait = eyes_mutation
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3 # slow down
			}
		}
	}
}
