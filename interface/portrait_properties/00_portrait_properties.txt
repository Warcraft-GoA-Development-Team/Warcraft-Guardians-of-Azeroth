# The choice is made based on a weighted random, but the first factor that evaluates to >= 100 will be automatically chosen
# Two passes are done when choosing properties; first from lowest to highest, then from highest to lowest. Be aware of this if you reference other properties, as the old properties will still be active in the first pass
# hide_layers is interpreted from bottom to top. Hidden layers won't hide other layers, but if a lower layer hides a higher layer, the higher layer won't be rechecked, so it might still be hiding other layers despite being hidden itself

# p0 background
0 = {
	0 = { # castle
		factor = 1

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		castle_background_score = yes
	}

	1 = { # throne room
		factor = 50

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		throne_room_background_score = yes
	}

	2 = { # dungeon
		factor = 100

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		dungeon_background_score = yes
	}

	3 = { # forest
		factor = 1

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		forest_background_score = yes
	}

	4 = { # bed
		factor = 100

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		bed_background_score = yes
	}

	5 = { # secret room
		factor = 100

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		secret_room_background_score = yes
	}

	6 = { # military camp
		factor = 100

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		military_camp_background_score = yes
	}

	7 = { # church
		factor = 100

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		church_background_score = yes
	}

	8 = { # desert
		factor = 5

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		desert_background_score = yes
	}

	9 = { # steppe
		factor = 1

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		steppe_background_score = yes
	}

	10 = { # ocean w ships
		factor = 10

		# Warcraft
		modifier = {
			factor = 0
			OR = {
				religion_group = fel_group
				religion_group = necromancy_group
				religion_group = void_group
			}
		}
		
		ocean_w_ships_background_score = yes
	}

	# Warcraft
	11 = { # fel castle
		factor = 1

		modifier = {
			factor = 0
			NOT = { religion_group = fel_group }
		}
		
		castle_background_score = yes
	}
	12 = { # fel dungeon
		factor = 100

		modifier = {
			factor = 0
			NOT = { religion_group = fel_group }
		}
		
		dungeon_background_score = yes
	}
	13 = { # fel forest
		factor = 1

		modifier = {
			factor = 0
			NOT = { religion_group = fel_group }
		}
		
		forest_background_score = yes
	}
	14 = { # fel military camp
		factor = 100

		modifier = {
			factor = 0
			NOT = { religion_group = fel_group }
		}
		
		military_camp_background_score = yes
	}
	15 = { # fel church
		factor = 100

		church_background_score = yes
	}
	16 = { # undead castle
		factor = 1

		modifier = {
			factor = 0
			NOT = { religion_group = necromancy_group }
		}
		
		castle_background_score = yes
	}
	17 = { # undead dungeon
		factor = 100

		modifier = {
			factor = 0
			NOT = { religion_group = necromancy_group }
		}
		
		dungeon_background_score = yes
	}
	18 = { # undead forest
		factor = 1

		modifier = {
			factor = 0
			NOT = { religion_group = necromancy_group }
		}
		
		forest_background_score = yes
	}
	19 = { # undead military camp
		factor = 100

		modifier = {
			factor = 0
			NOT = { religion_group = necromancy_group }
		}
		
		military_camp_background_score = yes
	}
	20 = { # undead church
		factor = 100

		modifier = {
			factor = 0
			NOT = { religion_group = necromancy_group }
		}
		
		church_background_score = yes
	}
	21 = { # void castle
		factor = 1

		modifier = {
			factor = 0
			NOT = { religion_group = void_group }
		}
		
		castle_background_score = yes
	}
	22 = { # void dungeon
		factor = 100

		modifier = {
			factor = 0
			NOT = { religion_group = void_group }
		}
		
		dungeon_background_score = yes
	}
	23 = { # void forest
		factor = 1

		modifier = {
			factor = 0
			NOT = { religion_group = void_group }
		}
		
		forest_background_score = yes
	}
	24 = { # void military camp
		factor = 100

		modifier = {
			factor = 0
			NOT = { religion_group = void_group }
		}
		
		military_camp_background_score = yes
	}
	25 = { # void church
		factor = 100

		modifier = {
			factor = 0
			NOT = { religion_group = void_group }
		}
		modifier = {
			factor = 0
			OR = {
				is_ruler = no
				is_theocracy = no
			}
		}
	}
}

# p1 hair  --- WARNING! Property 1 MUST be Hair, otherwise the hair hiding helmets wont work ---
1 = {
	0 = { # Completely bald
		factor = 1
		modifier = {
			factor = 0.1
			is_female = no
			NOT = {
				age = 50
			}
		}
		modifier = {
			factor = 0.1
			is_female = yes
		}
		
		# Warcraft
		# # Does not suit African females of a Western Culture
		# modifier = {
			# factor = 0
			# is_female = yes
			# graphical_culture = westafricangfx
			# NOT = { culture = manden }
			# NOT = { culture = ethiopian }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		
		modifier = {
			factor = 100
			is_devout_chinese_buddhist_trigger = yes
		}
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
	}

	1 = { # Black Adder
		factor = 1
		
		# Warcraft
		# # Does not suit African females of a Western Culture
		# modifier = {
			# factor = 0
			# is_female = yes
			# graphical_culture = westafricangfx
			# NOT = { culture = manden }
			# NOT = { culture = ethiopian }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
	}
	
	2 = { # Page
		factor = 1
		
		# Warcraft
		# # Does not suit Western females with African style headgear
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# culture = manden
				# culture = ethiopian
			# }
			# NOT = { graphical_culture = westafricangfx }
			# NOT = { graphical_culture = muslimgfx }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = count
			# }
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
		# }
	}

	3 = { # Synth
		factor = 1
		
		# Warcraft
		# # Does not suit Western females with African style headgear
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# culture = manden
				# culture = ethiopian
			# }
			# NOT = { graphical_culture = westafricangfx }
			# NOT = { graphical_culture = muslimgfx }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
	}

	4 = { # Long Straight
		factor = 1
		
		# Warcraft
		# # Does not suit Western females with African style headgear
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# culture = manden
				# culture = ethiopian
			# }
			# NOT = { graphical_culture = westafricangfx }
			# NOT = { graphical_culture = muslimgfx }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = count
			# }
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
		# }
	}

	5 = { # Long Curly
		factor = 1
		
		# Warcraft
		# # Does not suit African females of a Western Culture
		# modifier = {
			# factor = 0
			# is_female = yes
			# graphical_culture = westafricangfx
			# NOT = { culture = manden }
			# NOT = { culture = ethiopian }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = count
			# }
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
		# }
	}

	6 = {  # Tonsure
		factor = 1
		modifier = {
			factor = 0
			is_female = no
			higher_real_tier_than = unlanded
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# is_female = no
			# NOT = { religion_group = christian }
		# }
		
		modifier = {
			factor = 0
			is_female = no
			NOT = { trait = detached_priest }
			NOT = { trait = martial_cleric }
			NOT = { trait = scholarly_theologian }
			NOT = { trait = mastermind_theologian }
			NOT = { has_job_title = job_spiritual }
		}

		modifier = {
			factor = 50
			is_female = no
		}
		
		# Warcraft
		# # Does not suit Western females with African style headgear
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# culture = manden
				# culture = ethiopian
			# }
			# NOT = { graphical_culture = westafricangfx }
			# NOT = { graphical_culture = muslimgfx }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		
		# Warcraft
		# # Does not suit African females of a Western Culture
		# modifier = {
			# factor = 0
			# is_female = yes
			# graphical_culture = westafricangfx
			# NOT = { culture = manden }
			# NOT = { culture = ethiopian }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
	}
	
	7 = {  # Short
		factor = 1
		
		# Warcraft
		# # Does not suit Western females with African style headgear
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# culture = manden
				# culture = ethiopian
			# }
			# NOT = { graphical_culture = westafricangfx }
			# NOT = { graphical_culture = muslimgfx }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		
		# Warcraft
		# # Does not suit African females of a Western Culture
		# modifier = {
			# factor = 0
			# is_female = yes
			# graphical_culture = westafricangfx
			# NOT = { culture = manden }
			# NOT = { culture = ethiopian }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
	}
	
	8 = { # Short Curly
		factor = 1
	}
	
	9 = {  # Short Uncouth
		factor = 1
		
		# Warcraft
		# modifier = {
			# factor = 5
			# religion_group = pagan_group
		# }
		
		# Warcraft
		# # Does not suit Western females with African style headgear
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# culture = manden
				# culture = ethiopian
			# }
			# NOT = { graphical_culture = westafricangfx }
			# NOT = { graphical_culture = muslimgfx }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
	}
	
	10 = {  # Long Uncouth
		factor = 1
		
		# Warcraft
		# modifier = {
			# factor = 5
			# religion_group = pagan_group
		# }
		
		# Warcraft
		# # Does not suit Western females with African style headgear
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# culture = manden
				# culture = ethiopian
			# }
			# NOT = { graphical_culture = westafricangfx }
			# NOT = { graphical_culture = muslimgfx }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		
		# Warcraft
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = count
			# }
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
		# }
	}
	
	11 = { # Balding
		factor = 1
		modifier = {
			factor = 0.1
			is_female = no
			NOT = {
				age = 50
			}
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		
		# Warcraft
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = count
			# }
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
		# }
		# modifier = { 
			# factor = 0
			# is_female = yes
			# OR = {
				# is_married = yes
				# higher_tier_than = duke
			# }
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
		# }
	}
	
	12 = { # Marine
		factor = 1
		
		# Warcraft
		# # Does not suit Western females with African style headgear
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# culture = manden
				# culture = ethiopian
			# }
			# NOT = { graphical_culture = westafricangfx }
			# NOT = { graphical_culture = muslimgfx }
			# OR = {
				# higher_real_tier_than = count
				# spouse = { higher_real_tier_than = count }
				# has_minor_title = title_prince
			# }
		# }
		
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 2
			filial_piety_maiden_trigger = yes
		}
	}
	
	13 = { # Mohawk
		factor = 1
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 2
			filial_piety_maiden_trigger = yes
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# graphical_culture = chinesegfx
			# OR = {
				# is_married = yes
				# is_ruler = yes
			# }
		# }
	}
	
	14 = { # Mohawk
		factor = 1
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 2
			filial_piety_maiden_trigger = yes
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# graphical_culture = chinesegfx
			# OR = {
				# is_married = yes
				# is_ruler = yes
			# }
		# }
	}
	
	15 = { # Mohawk
		factor = 1
		
		# Warcraft
		# modifier = {
			# factor = 0
			# graphical_culture = chinesegfx
			# OR = {
				# is_married = yes
				# is_ruler = yes
			# }
		# }
	}
}

# p2 base
2 = {
}

# p3 clothes
3 = {
	
	0 = { # Royal clothes 1
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 1 }
				has_portrait_property = { layer = 3 index = 2 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	1 = { # Royal clothes 2
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 0 }
				has_portrait_property = { layer = 3 index = 2 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	2 = { # Royal clothes 3
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 0 }
				has_portrait_property = { layer = 3 index = 1 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	3 = { # Noble clothes 1
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 4 }
				has_portrait_property = { layer = 3 index = 5 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	4 = { # Noble clothes 2
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 3 }
				has_portrait_property = { layer = 3 index = 5 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	5 = { # Noble clothes 3
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 3 }
				has_portrait_property = { layer = 3 index = 4 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	6 = { # Modest clothes 1
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 7 }
				has_portrait_property = { layer = 3 index = 8 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_ruler = yes
				government = order_government
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 10
			# is_ruler = yes
			# is_theocracy = yes
			# religion_group = pagan_group
		# }
	}
	7 = { # Modest clothes 2
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 6 }
				has_portrait_property = { layer = 3 index = 8 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				government = order_government
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}
	
	8 = { # Modest clothes 3
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 6 }
				has_portrait_property = { layer = 3 index = 7 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				government = order_government
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}
	9 = { # Shady clothes
		factor = 3
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			prisoner = yes
		}
		modifier = {
			factor = 0
			OR = {
				government = order_government
				real_tier = king
				real_tier = emperor
				AND = {
					real_tier = duke
					any_demesne_title = {
						real_tier = baron
					}
				}
				spouse = { real_tier = king }
				spouse = { real_tier = emperor }
			}
		}
		modifier = {
			factor = 0

			# Warcraft
			is_magic_class_trigger = no

			NOT = { has_job_title = job_spymaster }
			OR = {
				government = order_government
				real_tier = duke
				NOT = { intrigue = 10 }
			}
		}

		# Warcraft
		modifier = {
			factor = 100
			is_magic_class_trigger = yes
		}

		# Warcraft	# Arthas stop wearing it, it looks weird on you
		modifier = {
			factor = 0
			character = 60003
		}
	}
	
	# Martial
	10 = {
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = shieldmaiden }
			NOT = { has_job_title  = job_marshal }
			NAND = { 
				has_minor_title = title_commander 
				is_ruler = no 
			}
			#NOT = { martial = 12 }
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			NOR = {
				government = order_government
				
				# Warcraft
				# primary_title = {
					# OR = {
						# title = d_knights_hospitaler
						# title = d_knights_templar
						# title = d_teutonic_order
						# title = k_teutonic_state
						# title = d_livonian_order
						# title = e_china_west_governor
					# }
				# }
			}
		}
		modifier = {
			factor = 0
			OR = {
				AND = {
					is_female = yes
					NOT = { trait = shieldmaiden }
					NOT = { has_minor_title = title_commander }
					NAND = { 
						in_command = yes 
						has_game_rule = {
							name = martial_headgear
							value = on
						}
					}
				}
			#	real_tier = king
			#	real_tier = emperor
				AND = {
					NOT = { government = order_government }
					real_tier = duke
					NAND = { 
						in_command = yes 
						has_game_rule = {
							name = martial_headgear
							value = on
						}
					}
					any_demesne_title = {
						real_tier = baron
					}
					
					# Warcraft
					# NOT = {
						# primary_title = {
							# OR = {
								# title = d_knights_hospitaler
								# title = d_knights_templar
								# title = d_teutonic_order
								# title = k_teutonic_state
								# title = d_livonian_order
								# title = e_china_west_governor
							# }
						# }
					# }
				}
				
				# Warcraft
				# AND = {
					# religion_group = christian
					# OR = {
						# AND = {
							# is_ruler = yes
							# is_theocracy = yes
						# }
						# has_job_title = job_spiritual
					# }
				# }
			}
		}
		modifier = {
			factor = 0
			chinese_martial_modifier_trigger = yes 
		}
		modifier = {
			factor = 0
			chinese_martial_2_modifier_trigger = yes 
		}
		modifier = {
			factor = 0
			chinese_generals_modifier_trigger = yes
		}
		modifier = {
			factor = 100 # This ensures that the reverse order check stays matched
			has_portrait_property = { layer = 5 index = 10 }
		}
	}
	
	# Ragged prison clothes
	11 = {
		factor = 100
		modifier = {
			factor = 0
			prisoner = no
		}
	}
	
	# Warcraft
	# # Chinese Martial Extension 1
	# 12 = {
		# factor = 99
		# modifier = {
			# factor = 0
			# chinese_generals_modifier_trigger = no
		# }
		# modifier = {
			# factor = 100 # This ensures that the reverse order check stays matched
			# has_portrait_property = { layer = 5 index = 12 }
		# }
	# }
	
	# Warcraft
	# # Chinese Martial Extension 2
	# 13 = {
		# factor = 99
		# modifier = {
			# factor = 0
			# chinese_martial_modifier_trigger = no
		# }
		# modifier = {
			# factor = 0
			# OR = { 
				# chinese_martial_2_modifier_trigger = yes
				# chinese_generals_modifier_trigger = yes
			# }
		# }
		# modifier = {
			# factor = 100 # This ensures that the reverse order check stays matched
			# has_portrait_property = { layer = 5 index = 13 }
		# }
	# }
	
	# Warcraft
	# # Chinese Martial Extension 3
	# 14 = {
		# factor = 99
		# modifier = {
			# factor = 0
			# chinese_generals_modifier_trigger = yes
		# }
		# modifier = {
			# factor = 0
			# chinese_martial_2_modifier_trigger = no
		# }
		# modifier = {
			# factor = 100 # This ensures that the reverse order check stays matched
			# has_portrait_property = { layer = 5 index = 14 }
		# }
	# }
}

# p4 beard
4 = {
	0 = {
		factor = 1
		
		# Warcraft
		# modifier = {
			# factor = 0
			# religion_group = muslim
			# NOT = { graphical_culture = muslimgfx }
		# }
		# modifier = {
			# factor = 30
			# OR = {
				# culture = greek
				# culture = italian
				# culture = roman
			# }
			# OR = {
				# religion_group = christian
				# religion = hellenic_pagan
				# religion = hellenic_pagan_reformed
			# }
		# #	OR = {
		# #		graphical_culture = southerngfx
		# #		graphical_culture = byzantinegfx
		# #	}
		# }
		# modifier = {
			# factor = 15
			# religion_group = christian
			# culture_group = iberian
			# OR = {
				# graphical_culture = southerngfx
				# graphical_culture = byzantinegfx
			# }
		# }
		
		modifier = {
			factor = 100
			is_devout_chinese_buddhist_trigger = yes
		}
		
		# Warcraft
		# modifier = {
			# factor = 100 #No longer bearded Ottavian.
			# character = 145290
		# }
		# modifier = { # frankish men less likely to wear beards after the 12th century, in stages 
			# factor = 5
			# year = 1100
		# }
		# modifier = { # frankish men less likely to wear beards after the 12th century, in stages 
			# factor = 15
			# year = 1150
		# }
		# modifier = { # frankish men less likely to wear beards after the 12th century, in stages 
			# factor = 30
			# year = 1200
		# }
	}
	1 = {
		factor = 1
	}
	2 = {
		factor = 1
	}
	3 = {
		factor = 1
	}
	4 = {
		factor = 1
	}
	5 = {
		factor = 1
	}
	6 = {
		factor = 1
	}
	7 = {
		factor = 1
	}
	8 = {
		factor = 1
	}
	9 = {
		factor = 1
		
		# Warcraft
		# modifier = {
			# factor = 5
			# religion_group = christian
			# culture_group = iberian
			# OR = {
				# graphical_culture = southerngfx
				# graphical_culture = byzantinegfx
			# }
		# }
	}
	10 = {
		factor = 1
		
		# Warcraft
		# modifier = {
			# factor = 0
			# religion_group = muslim
			# NOT = { graphical_culture = muslimgfx }
		# }
		# modifier = {
			# factor = 20
			# religion_group = christian
			# culture_group = iberian
			# OR = {
				# graphical_culture = southerngfx
				# graphical_culture = byzantinegfx
			# }
		# }
		# modifier = {
			# factor = 60
			# religion_group = christian
			# OR = {
				# culture = greek
				# culture = italian
			# }
			# OR = {
				# graphical_culture = southerngfx
				# graphical_culture = byzantinegfx
			# }
		# }
	}
	11 = {
		factor = 1
	}
	12 = {
		factor = 1
	}
	13 = {
		factor = 1
	}
	14 = {
		factor = 1
	}
}

# p5 headgear
5 = {
	# Imperial crown/Caliph turban
	0 = {
		factor = 100
		
		# Warcraft
		# hide_layers = { 31 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		# hide_layers = { 32 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = emperor } }
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			is_nomadic = yes 
			NOT = { 
				population = 10000
			}
		}
		modifier = { #Nomads marrying lowly pagans should not give them Imperial crowns, unless the spouse has enough population to warrant it.
			factor = 0
			spouse = { 
				is_nomadic = yes 
				real_tier = EMPEROR 
				NOT = { 
					population = 10000
				}
			}
			is_ruler = yes
			lower_tier_than = EMPEROR
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #If you are Emperor and died without being crowned, you don't wear a crown.
			factor = 0
			real_tier = EMPEROR
			trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
		}
		
		# Warcraft
		# modifier = { #If you are a living Emperor and are not crowned, you don't wear a crown.
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			# OR = { 
				# has_game_started = yes
				# is_save_game = yes
			# } 
			# real_tier = EMPEROR
			# is_alive = yes
			# OR = { 
				# religion = catholic
				# religion = fraticelli
			# } 
			# NOR = { 
				# trait = crowned_by_priest 
				# trait = crowned_by_bishop
				# trait = crowned_by_pope
				# trait = crowned_by_myself 
			# }
		# }
		
		modifier = { #If you are the spouse of an Emperor while not being Empress yourself, and your husband died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = EMPEROR }
			spouse = { 
				real_tier = EMPEROR
				trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
			} 
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			# OR = { 
				# has_game_started = yes
				# is_save_game = yes
			# } 
			# NOT = { real_tier = EMPEROR }
			# spouse = { 
				# real_tier = EMPEROR
				# is_alive = yes 
				# OR = { 
					# religion = catholic
					# religion = fraticelli
				# } 
				# NOR = { 
					# trait = crowned_by_priest 
					# trait = crowned_by_bishop
					# trait = crowned_by_pope
					# trait = crowned_by_myself 
				# }
			# } 
		# }
		
		modifier = {
			factor = 0
			is_ruler = yes #Otherwise dead landless Queens don't wear the crown, as they default to nogovernment.
			is_feudal = no
			is_tribal = no
			is_nomadic = no
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0 
			spouse = { is_republic = yes } #Dead wives of Patricians are nogovernment, thus they would wear crowns for being married to a King-tier.
			is_alive = no
			is_ruler = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
			
			# Warcraft
			# NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			song_dynasty_futou_trigger = yes
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# has_landed_title = e_china_west_governor # Uses martial clothing instead
		# }
	}
	
	# Royal crown/turban 1
	1 = {
		factor = 1
		
		# Warcraft
		# hide_layers = { 31 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		# hide_layers = { 32 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		
		modifier = {
			factor = 0
			OR = { 
				has_portrait_property = { layer = 5 index = 2 }
				has_portrait_property = { layer = 5 index = 3 } 
			}
		}
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
		}
		modifier = {
			factor = 0
			is_nomadic = yes 
			NOT = { 
				population = 5000
			}
		}
		modifier = { #Nomads marrying lowly pagans should not give them Imperial crowns unless proper population is met.
			factor = 0
			spouse = { 
				is_nomadic = yes 
				real_tier = KING 
				NOT = { 
					population = 5000
				}
			}
			is_ruler = yes
			lower_tier_than = KING
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #If you are Emperor and died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			real_tier = KING
			trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
		}
		
		# Warcraft
		# modifier = { #If you are a living Emperor and are not crowned, you don't wear a crown.
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			# OR = { 
				# has_game_started = yes
				# is_save_game = yes
			# } 
			# real_tier = KING
			# is_alive = yes
			# OR = { 
				# religion = catholic
				# religion = fraticelli
			# } 
			# NOR = { 
				# trait = crowned_by_priest 
				# trait = crowned_by_bishop
				# trait = crowned_by_pope
				# trait = crowned_by_myself 
			# }
		# }
		
		modifier = { #If you are the spouse of an Emperor while not being Empress yourself, and your husband died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
			} 
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			# OR = { 
				# has_game_started = yes
				# is_save_game = yes
			# } 
			# NOT = { real_tier = KING }
			# spouse = { 
				# real_tier = KING
				# is_alive = yes 
				# OR = { 
					# religion = catholic
					# religion = fraticelli
				# } 
				# NOR = { 
					# trait = crowned_by_priest 
					# trait = crowned_by_bishop
					# trait = crowned_by_pope
					# trait = crowned_by_myself 
				# }
			# } 
		# }
		
		modifier = {
			factor = 0
			is_ruler = yes #Otherwise dead landless Queens don't wear the crown, as they default to nogovernment.
			is_feudal = no
			is_tribal = no
			is_nomadic = no
		}
		modifier = {
			factor = 0
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0 
			spouse = { is_republic = yes } #Dead wives of Patricians are nogovernment, thus they would wear crowns for being married to a King-tier.
			is_alive = no
			is_ruler = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
	}

	# Royal crown/turban 2
	2 = {
		factor = 1
		
		# Warcraft
		# hide_layers = { 31 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		# hide_layers = { 32 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		
		modifier = {
			factor = 0
			OR = { 
				has_portrait_property = { layer = 5 index = 1 }
				has_portrait_property = { layer = 5 index = 3 } 
			}
		}
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
		}
		modifier = {
			factor = 0
			is_nomadic = yes 
			NOT = { 
				population = 5000
			}
		}
		modifier = { #Nomads marrying lowly pagans should not give them Imperial crowns unless proper population is met.
			factor = 0
			spouse = { 
				is_nomadic = yes 
				real_tier = KING 
				NOT = { 
					population = 5000
				}
			}
			is_ruler = yes
			lower_tier_than = KING
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #If you are Emperor and died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			real_tier = KING
			trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
		}
		
		# Warcraft
		# modifier = { #If you are a living Emperor and are not crowned, you don't wear a crown.
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			# OR = { 
				# has_game_started = yes
				# is_save_game = yes
			# } 
			# real_tier = KING
			# is_alive = yes
			# OR = { 
				# religion = catholic
				# religion = fraticelli
			# } 
			# NOR = { 
				# trait = crowned_by_priest 
				# trait = crowned_by_bishop
				# trait = crowned_by_pope
				# trait = crowned_by_myself 
			# }
		# }
		
		modifier = { #If you are the spouse of an Emperor while not being Empress yourself, and your husband died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
			} 
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			# OR = { 
				# has_game_started = yes
				# is_save_game = yes
			# } 
			# NOT = { real_tier = KING }
			# spouse = { 
				# real_tier = KING
				# is_alive = yes 
				# OR = { 
					# religion = catholic
					# religion = fraticelli
				# } 
				# NOR = { 
					# trait = crowned_by_priest 
					# trait = crowned_by_bishop
					# trait = crowned_by_pope
					# trait = crowned_by_myself 
				# }
			# } 
		# }
		
		modifier = {
			factor = 0
			is_ruler = yes #Otherwise dead landless Queens don't wear the crown, as they default to nogovernment.
			is_feudal = no
			is_tribal = no
			is_nomadic = no
		}
		modifier = {
			factor = 0
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0 
			spouse = { is_republic = yes } #Dead wives of Patricians are nogovernment, thus they would wear crowns for being married to a King-tier.
			is_alive = no
			is_ruler = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
	}

	# Royal crown/turban 3
	3 = {
		factor = 1
		
		# Warcraft
		# hide_layers = { 31 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		# hide_layers = { 32 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		
		modifier = {
			factor = 0
			OR = { 
				has_portrait_property = { layer = 5 index = 1 } 
				has_portrait_property = { layer = 5 index = 2 }
			}
		}
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
			NOT = { song_dynasty_futou_trigger = yes }
		}
		modifier = {
			factor = 0
			is_nomadic = yes 
			NOT = { 
				population = 5000
			}
		}
		modifier = { #Nomads marrying lowly pagans should not give them Imperial crowns unless proper population is met.
			factor = 0
			spouse = { 
				is_nomadic = yes 
				real_tier = KING 
				NOT = { 
					population = 5000
				}
			}
			is_ruler = yes
			lower_tier_than = KING
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0 
			spouse = { is_republic = yes } #Dead wives of Patricians are nogovernment, thus they would wear crowns for being married to a King-tier.
			is_alive = no
			is_ruler = no
		}
		modifier = { #If you are Emperor and died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			real_tier = KING
			trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
		}
		
		# Warcraft
		# modifier = { #If you are a living Emperor and are not crowned, you don't wear a crown.
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			# OR = { 
				# has_game_started = yes
				# is_save_game = yes
			# } 
			# real_tier = KING
			# is_alive = yes
			# OR = { 
				# religion = catholic
				# religion = fraticelli
			# } 
			# NOR = { 
				# trait = crowned_by_priest 
				# trait = crowned_by_bishop
				# trait = crowned_by_pope
				# trait = crowned_by_myself 
			# }
		# }
		
		modifier = { #If you are the spouse of an Emperor while not being Empress yourself, and your husband died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
			} 
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			# OR = { 
				# has_game_started = yes
				# is_save_game = yes
			# } 
			# NOT = { real_tier = KING }
			# spouse = { 
				# real_tier = KING
				# is_alive = yes 
				# OR = { 
					# religion = catholic
					# religion = fraticelli
				# } 
				# NOR = { 
					# trait = crowned_by_priest 
					# trait = crowned_by_bishop
					# trait = crowned_by_pope
					# trait = crowned_by_myself 
				# }
			# } 
		# }
		
		modifier = {
			factor = 0
			is_ruler = yes #Otherwise dead landless Queens don't wear the crown, as they default to nogovernment.
			is_feudal = no
			is_tribal = no
			is_nomadic = no
			NOT = { song_dynasty_futou_trigger = yes }
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
			NOT = { song_dynasty_futou_trigger = yes }
		}
		modifier = {
			factor = 100
			song_dynasty_futou_trigger = yes
		}
	}

	# Simple golden band/turban
	4 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
				# #is_feudal = yes
			# OR = { 
				# AND = { 
					# higher_real_tier_than = DUKE 
					# OR = { 
						# religion = catholic
						# religion = fraticelli
					# }
					# OR = { 
						# trait = crowned_by_priest
						# trait = crowned_by_bishop
						# trait = crowned_by_pope
						# trait = crowned_by_myself
						# AND = {
							# is_alive = no
							# NOT = { trait = uncrowned }
						# }
						# AND = { 
							# has_game_started = no
							# is_save_game = no
							# is_alive = yes
						# }
					# }
				# }
				# spouse = { 
					# higher_real_tier_than = DUKE 
					# OR = { 
						# religion = catholic
						# religion = fraticelli
					# }
					# OR = { 
						# trait = crowned_by_priest
						# trait = crowned_by_bishop
						# trait = crowned_by_pope
						# trait = crowned_by_myself
						# AND = {
							# is_alive = no
							# NOT = { trait = uncrowned }
						# }
						# AND = { 
							# has_game_started = no
							# is_save_game = no
							# is_alive = yes
						# }
					# }
				# }
			# }
		# }
		
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			NOT = { has_dlc = "Holy Fury" }
			higher_real_tier_than = DUKE
		}
		modifier = {
			factor = 0
			NOT = { has_dlc = "Holy Fury" }
			spouse = { higher_real_tier_than = DUKE }
		}
		modifier = {
			factor = 0
			is_ruler = yes
			NOT = { trait = uncrowned }
			NOT = { religion = catholic }
			NOT = { religion = fraticelli }
			higher_real_tier_than = DUKE
			OR = { 
				is_nomadic = no 
				population = 5000
			}

		}
		modifier = {
			factor = 0 #Dead Doges should not wear crowns.
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0
			NOT = { real_tier = count }
			NOT = { real_tier = duke }
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { has_minor_title = title_prince }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
		}
		
		# Warcraft
		# modifier = { #French Counts also wear the golden band.
			# factor = 0 
			# has_dlc = "Holy Fury"
			# NOT = { culture = frankish }
			# NOT = { culture = occitan }
			# lower_real_tier_than = DUKE
			# spouse = { lower_real_tier_than = DUKE }
		# }
		
		modifier = { #Otherwise go as normal.
			factor = 0 
			NOT = { has_dlc = "Holy Fury" }
			lower_real_tier_than = DUKE
			spouse = { lower_real_tier_than = DUKE }
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
	}

	# Common headgear 1 - hood
	5 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
		}
		
		# Warcraft
		# modifier = {
			# factor = 10
			# is_ruler = yes
			# is_theocracy = yes
			# religion_group = pagan_group
		# }
		# modifier = {
			# factor = 2
			# is_female = yes
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
			# is_married = no
		# }
		# modifier = {
			# factor = 2
			# is_female = yes
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
			# is_married = no
		# }
		# modifier = {
			# factor = 2
			# is_female = yes
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
			# is_married = no
		# }
		# modifier = { # Specific rules for frankish / Occitanian layering
			# factor = 0
			# NOT = {
				# french_courtier_overlayer_trigger = yes
			# }
		# }
	}
	
	# Common headgear 2 - hood
	6 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		
		# Warcraft
		# modifier = { # Specific rules for frankish / Occitanian layering
			# factor = 0
			# has_dlc = "Holy Fury"
			# is_female = yes
			# OR = {
				# culture = frankish
				# culture = occitan
			# }
			# OR = {
				# is_ruler = yes
				# spouse = { is_ruler = yes }
			# }
			# OR = {
				# is_married = no
				# NOT = { age = 40 }
			# }
			# NOT = {
				# has_portrait_property = { layer = 3 index = 10 }
			# }
		# }
		# modifier = { # Specific rules for frankish / Occitanian layering
			# factor = 0
			# NOT = {
				# french_courtier_overlayer_trigger = yes
			# }
		# }
	}

	# Common headgear 3 - Red hat
	7 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				NOT = { religion = orthodox }
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		
		# Warcraft
		# modifier = { # Specific rules for frankish / Occitanian layering
			# factor = 0
			# has_dlc = "Holy Fury"
			# is_female = yes
			# OR = {
				# culture = frankish
				# culture = occitan
			# }
			# OR = {
				# is_ruler = yes
				# spouse = { is_ruler = yes }
			# }
			# OR = {
				# is_married = no
				# NOT = { age = 40 }
			# }
			# NOT = {
				# has_portrait_property = { layer = 3 index = 10 }
			# }
		# }
		# modifier = { # Specific rules for frankish / Occitanian layering
			# factor = 0
			# NOT = {
				# french_courtier_overlayer_trigger = yes
			# }
		# }
	}
	
	# Common headgear 4 - hood
	8 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# is_female = yes
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
			# is_married = yes
		# }
		# modifier = {
			# factor = 0
			# is_female = yes
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
			# is_married = yes
		# }
		# modifier = {
			# factor = 0
			# is_female = yes
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
			# is_married = yes
		# }
		# modifier = {
			# factor = 2
			# is_female = yes
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
			# is_married = no
		# }
		# modifier = {
			# factor = 2
			# is_female = yes
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
			# is_married = no
		# }
		# modifier = {
			# factor = 2
			# is_female = yes
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
			# is_married = no
		# }
		# modifier = { # Specific rules for frankish / Occitanian layering
			# factor = 0
			# has_dlc = "Holy Fury"
			# is_female = yes
			# OR = {
				# culture = frankish
				# culture = occitan
			# }
			# OR = {
				# is_ruler = yes
				# spouse = { is_ruler = yes }
			# }
			# OR = {
				# is_married = no
				# NOT = { age = 40 }
			# }
			# NOT = {
				# has_portrait_property = { layer = 3 index = 10 }
			# }
		# }
		# modifier = { # Specific rules for frankish / Occitanian layering
			# factor = 0
			# NOT = {
				# french_courtier_overlayer_trigger = yes
			# }
		# }
	}

	# Shady headgear
	9 = {
		# Warcraft
		# hide_layers = { 31 = { } } #Veil overload.
		# hide_layers = { 32 = { } } 
		# hide_layers = { 33 = { } }
		
		factor = 3
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				real_tier = king
				real_tier = emperor
				AND = {
					real_tier = duke
					any_demesne_title = {
						real_tier = baron
					}
				}
				spouse = { real_tier = king }
				spouse = { real_tier = emperor }
			}
		}
		modifier = {
			factor = 0

			# Warcraft
			is_magic_class_trigger = no

			NOT = { has_job_title = job_spymaster }
			OR = {
				real_tier = duke
				NOT = { intrigue = 10 }
			}
		}

		# Warcraft
		modifier = {
			factor = 100
			is_magic_class_trigger = yes
		}

		# Warcraft	# Arthas stop wearing it, it looks weird on you
		modifier = {
			factor = 0
			character = 60003
		}
	}

	# Martial headgear
	10 = {
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				NOT = { has_portrait_property = { layer = 3 index = 10 } } 
				
				# Warcraft
				# primary_title = { #Holy Orders in peace time should wear martial clothes, but not the helmet.
					# OR = {
						# title = d_knights_hospitaler
						# title = d_knights_templar
						# title = d_teutonic_order
						# title = k_teutonic_state
						# title = d_livonian_order
						# title = e_china_west_governor
					# }
				# }
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}

	# Blank
	11 = {
		factor = 3
		modifier = {
			factor = 20000
			trait = saint 
		}
		modifier = {
			factor = 20000
			trait = shieldmaiden
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 20000
			# OR = { 
				# government = order_government 
				# primary_title = { #Holy Orders in peace time should wear martial clothes, but not the helmet.
					# OR = {
						# title = d_knights_hospitaler
						# title = d_knights_templar
						# title = d_teutonic_order
						# title = k_teutonic_state
						# title = d_livonian_order
					# }
				# }
			# }
		# }
		
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
			NOT = { trait = saint }
		}
		modifier = {
			factor = 0
			NOT = { trait = saint }
			NOT = { is_republic = yes }
			NOT = { government = order_government }
			OR = {
				real_tier = emperor
				real_tier = king
				real_tier = duke
				has_minor_title = title_prince
				spouse = { 
					real_tier = emperor
					NOT = { is_republic = yes }
			 	}
				spouse = { 
					real_tier = king
					NOT = { is_republic = yes }
			 	}
				spouse = { 
					real_tier = duke
					NOT = { is_republic = yes }
			 	}
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 4
			# is_female = yes
			# graphical_culture = westernslavicgfx
			# OR = {
				# culture = pommeranian
				# culture = bohemian
				# culture = polish
			# }
			# is_married = no
		# }
		# modifier = {
			# factor = 4
			# is_female = yes
			# graphical_culture = croat_southslavicgfx
			# culture = croatian
			# is_married = no
		# }
		# modifier = {
			# factor = 4
			# is_female = yes
			# OR = {
				# graphical_culture = serb_southslavicgfx
				# graphical_culture = magyargfx
			# }
			# OR = {
				# culture = serbian
				# culture = bulgarian
				# culture = romanian
				# culture = hungarian
			# }
			# is_married = no
		# }
	}
	
	# Warcraft
	# # Chinese Martial Extension 1
	# 12 = {
		# factor = 100
		# modifier = {
			# factor = 0
			# trait = saint 
		# }
		# modifier = {
			# factor = 0
			# NOT = { has_portrait_property = { layer = 3 index = 12 } }
		# }
	# }
	
	# # Chinese Martial Extension 2
	# 13 = {
		# factor = 100
		# modifier = {
			# factor = 0
			# trait = saint 
		# }
		# modifier = {
			# factor = 0
			# NOT = { has_portrait_property = { layer = 3 index = 13 } }
		# }
	# }
	
	# # Chinese Martial Extension 3
	# 14 = {
		# factor = 100
		# modifier = {
			# factor = 0
			# trait = saint 
		# }
		# modifier = {
			# factor = 0
			# NOT = { has_portrait_property = { layer = 3 index = 14 } }
		# }
	# }
}

# p6 imprisoned
6 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			prisoner = yes
		}
	}

	1 = { # prisoner
		factor = 100
		modifier = {
			factor = 0
			prisoner = no
		}
		
		# Warcraft
		# hide_layers = { 18 = { } } #Hide layers with special crowns.
		# hide_layers = { 19 = { } } #Hide layers with special crowns.
		
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
	}
}

# p7 scars - Tier I
7 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = scarred
			OR = {
				trait = scarred_type_1
				trait = scarred_type_2
				trait = scarred_type_3
				trait = scarred_type_4
				trait = scarred_type_5
				trait = scarred_type_6
				trait = scarred_type_7
				trait = scarred_type_8
				trait = scarred_type_9
				trait = scarred_type_10
			}
		}
   	}

	1 = { # scar 1 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_1
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	2 = { # scar 2 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_2
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	3 = { # scar 3 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_3
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	4 = { # scar 4 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_4
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	5 = { # scar 5 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_5
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	6 = { # scar 6 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_6
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	7 = { # scar 7 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_7
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	8 = { # scar 8 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_8
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	9 = { # scar 9 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_9
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	10 = { # scar 10 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_10
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
}

# p8 red dots
8 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = has_measles
				trait = has_small_pox
			}
		}
 	}

	1 = { # red dots
		factor = 100
		modifier = {
			factor = 0
			OR = {
				NOT = {
					trait = has_measles
					trait = has_small_pox
				}
			}
		}
  	}
}

# p9 boils
9 = {

	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = has_bubonic_plague
			}
		}
 	}

	1 = { # boils
		factor = 100
		modifier = {
			factor = 0
			OR = {
				NOT = {
					trait = has_bubonic_plague
				}
			}
		}
 	}
 	
}

# p10 blinded
10 = {
	0 = {
		factor = 100
		modifier = {
			factor = 0
			trait = blinded
		}
	}
	
	1 =  {
		factor = 100
		modifier = {
			factor = 0
			NOT = {
				trait = blinded
			}
		}
	}
}

# p11 player
11 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			AND = {
				ai = no
				multiplayer = yes
			}
		}
	}

	1 = { # player
		factor = 100
		modifier = {
			factor = 0
			OR = {
				ai = yes
				multiplayer = no
			}
		}
	}
}

# p12 mask for the disfigured
12 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = disfigured 
				has_character_modifier = attending_masquerade
				has_character_modifier = forced_mask
			}
		}
	}

	1 = { # mask 1 bone
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					OR = { 
						trait = disfigured 
						has_character_modifier = attending_masquerade
						has_character_modifier = forced_mask
					}
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						
						# Warcraft
						# religion_group = pagan_group
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}

	2 = { # mask 2 silver
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				
				# Warcraft
				# religion_group = pagan_group
				
				has_character_modifier = golden_mask
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# OR = {
				# culture = manden
				# culture = maghreb_arabic
			# }
		# }
	}

	3 = { # mask 3 iron
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = yes
					higher_real_tier_than = DUKE
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { higher_real_tier_than = DUKE }
				}
				is_tribal = yes
				is_nomadic = yes
				
				# Warcraft
				# religion_group = pagan_group
				
				has_character_modifier = golden_mask
			}
		}
	}
	
	4 = { # mask 4 bone - blue stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						
						# Warcraft
						# religion_group = pagan_group
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	5 = { # mask 5 bone - orange stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						
						# Warcraft
						# religion_group = pagan_group
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	6 = { # mask 6 bone - red dots
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
					}
				}
				has_character_modifier = golden_mask
			}
		}
		modifier = {
			factor = 0
			NOR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# NOR = {
				# religion = west_african_pagan
				# religion = west_african_pagan_reformed
				# culture = manden
				# culture_group = east_african
			# }
		# }
	}
	
	7 = { # mask 7 bone - black stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
					}
				}
				has_character_modifier = golden_mask
			}
		}
		modifier = {
			factor = 0
			NOR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# NOR = {
				# religion = west_african_pagan
				# religion = west_african_pagan_reformed
				# culture = manden
				# culture_group = east_african
			# }
		# }
	}
	
	8 = { # mask 8 bone - red stripes/eyes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						
						# Warcraft
						# religion_group = pagan_group
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	9 = { # mask 9 bone - black eyes/lightning
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						
						# Warcraft
						# religion_group = pagan_group
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	10 = { # mask 10 - decorated silver
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				
				# Warcraft
				# religion_group = pagan_group
				
				has_character_modifier = golden_mask
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 0
			# OR = {
				# culture = manden
				# culture = maghreb_arabic
			# }
		# }
	}
	
	11 = { # mask 11 - decorated gold
		factor = 2
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				
				# Warcraft
				# religion_group = pagan_group
			}
			NOT = { has_character_modifier = golden_mask }
		}
		modifier = {
			factor = 0
			NOR = {
				trait = greedy
				trait = proud
				trait = ambitious
				trait = envious
				
				# Warcraft
				# culture = manden
				# culture = maghreb_arabic
			}
			NOT = { has_character_modifier = golden_mask }
		}
		
		# Warcraft
		# modifier = {
			# factor = 5
			# has_landed_title = k_papal_state
		# }
		
		modifier = {
			factor = 1000
			has_character_modifier = golden_mask
		}
	}
	
	12 = { # mask 12 - full mask 1 leather
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				
				# Warcraft
				# religion_group = pagan_group
				
				has_character_modifier = golden_mask
			}
		}
	}
	
	13 = { # mask 13 - full mask 2 bone
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				
				# Warcraft
				# religion_group = pagan_group
				
				has_character_modifier = golden_mask
			}
		}
	}
}

# p13 eyepatch for one_eyed
13 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = one_eyed
			NOT = { has_character_modifier = glass_eye }
		}
	}

	1 = { # eyepatch 1
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	2 = { # eyepatch 2 - red leather
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	3 = { # eyepatch 3 - painted eye
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					OR = {
						trait = paranoid
						trait = possessed
					}
				}
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				trait = paranoid
				trait = possessed
			}
		}
	}
	
	4 = { # eyepatch 4 - red
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	5 = { # eyepatch 5 - white rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 3
			# AND = {
				# religion = catholic
				# is_theocracy = yes
			# }
		# }
	}
	
	6 = { # eyepatch 6 - blue rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 2
			# OR = {
				# religion = tengri_pagan
				# religion = tengri_pagan_reformed
			# }
		# }
	}
	
	7 = { # eyepatch 7 - green rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		
		# Warcraft
		# modifier = {
			# factor = 2
			# religion_group = muslim
		# }
	}
	
	8 = { # eyepatch 8 - red rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	9 = { # eyepatch 9 - bloodied rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					OR = {
						trait = wroth
						trait = cruel
						has_minor_title = title_commander
					}
				}
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				trait = wroth
				trait = cruel
				has_minor_title = title_commander
			}
		}
		modifier = {
			factor = 2
			martial = 12
		}
	}
	
	10 = { # eyepatch 10 - tartan rag
		factor = 3
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					culture_group = celtic
				}
				has_character_modifier = glass_eye
			}
		}
	}
	
	11 = { # eyepatch 11 - scarred eye 1
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = one_eyed }
		}
		modifier = {
			factor = 0
			trait = shy
		}
		modifier = {
			factor = 4
			OR = {
				is_tribal = yes
				is_nomadic = yes
				trait = stubborn
			}
		}
	}
	
	12 = { # eyepatch 12 - scarred eye 2
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = one_eyed }
		}
		modifier = {
			factor = 0
			trait = shy
		}
		modifier = {
			factor = 4
			OR = {
				is_tribal = yes
				is_nomadic = yes
				trait = stubborn
			}
		}
	}
}

# p14 chinese makeup
14 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			chinese_makeup_trigger = yes
		}
	}

	1 = { # white powder
		factor = 1
	}
	
	2 = { # rouge a only
		factor = 1
	}
	
	3 = { # white powder and rouge a
		factor = 1
	}
	
	4 = { # rouge b only
		factor = 1
	}

	5 = { # white powder and rouge b
		factor = 1
	}
}

# p15 chinese makeup 2
15 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			chinese_makeup_trigger = yes
		}
	}

	1 = { # full lips
		factor = 1
	}
	
	2 = { # top lip
		factor = 1
	}
	
	3 = { # 'heart' lips
		factor = 1
	}
}

# p16 chinese empress jewelry
16 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			chinese_empress_jewelry_trigger = yes
		}
	}

	1 = { # Full face pearls and earrings
		factor = 1
	}
	
	2 = { # pearl earrings only
		factor = 1
	}
	
	3 = { # full face pearls and earrings 2
		factor = 1
	}
}

# p17 immortality
17 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			immortal = yes
		}
	}
	1 = {
		factor = 100
	}
}

# Warcraft
# p18 dragon ages
18 = {
	0 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				is_dragon_trigger = yes
				is_wyrm_trigger = yes
			}
		}
	}
	1 = {
		factor = 1
		modifier = {
			factor = 0
			is_dragon_trigger = no
		}
	}
	2 = {
		factor = 1
		modifier = {
			factor = 0
			is_wyrm_trigger = no
		}
	}
}

# Warcraft
# p19 druid forms
19 = {
	0 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				AND = {
					NOT = { character = 340008 }
					trait = bear_form
				}
				AND = {
					NOT = { character = 340008 }
					trait = master_bear_form
				}
				trait = talon_form
				trait = master_talon_form
				trait = stag_form
			}
		}
	}
	1 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				character = 340008
				NAND = {
					OR = {
						trait = bear_form
						trait = master_bear_form
					}
					has_character_flag = bear_form_1
				}
			}
		}
	}
	2 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				character = 340008
				NAND = {
					OR = {
						trait = bear_form
						trait = master_bear_form
					}
					has_character_flag = bear_form_2
				}
			}
		}
	}
	3 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				character = 340008
				NAND = {
					OR = {
						trait = bear_form
						trait = master_bear_form
					}
					has_character_flag = bear_form_3
				}
			}
		}
	}
	4 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				character = 340008
				NAND = {
					OR = {
						trait = bear_form
						trait = master_bear_form
					}
					has_character_flag = bear_form_4
				}
			}
		}
	}
	5 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				character = 340008
				NAND = {
					OR = {
						trait = bear_form
						trait = master_bear_form
					}
					has_character_flag = bear_form_5
				}
			}
		}
	}
	
	6 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_1
				trait = creature_tauren
			}
		}
	}
	7 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_2
				trait = creature_tauren
			}
		}
	}
	8 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_3
				trait = creature_tauren
			}
		}
	}
	9 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_4
				trait = creature_tauren
			}
		}
	}
	10 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_5
				trait = creature_tauren
			}
		}
	}
	11 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_1
				trait = creature_troll
			}
		}
	}
	12 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_2
				trait = creature_troll
			}
		}
	}
	13 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_3
				trait = creature_troll
			}
		}
	}
	14 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_4
				trait = creature_troll
			}
		}
	}
	15 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_5
				trait = creature_troll
			}
		}
	}
	16 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_1
				trait = worgen
			}
		}
	}
	17 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_2
				trait = worgen
			}
		}
	}
	18 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_3
				trait = worgen
			}
		}
	}
	19 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_4
				trait = worgen
			}
		}
	}
	20 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = bear_form
					trait = master_bear_form
					}
				has_character_flag = bear_form_5
				trait = worgen
			}
		}
	}
	
	21 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = worgen
				NOR = {
					trait = master_talon_form
					trait = talon_form
				}
			}
		}
	}
	22 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = talon_form
					trait = master_talon_form
				}
				trait = creature_tauren
			}
		}
	}
	23 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = talon_form
					trait = master_talon_form
				}
				trait = worgen
			}
		}
	}
	24 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				trait = stag_form
				has_character_flag = stag_form_1
			}
		}
	}
	25 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				trait = stag_form
				has_character_flag = stag_form_2
			}
		}
	}
	
	
}
# p20 druid forms
20 = {
	0 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = cat_form
				trait = master_cat_form
				trait = pack_form
			}
		}
	}
	1 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				NAND = {
					OR = {
						trait = cat_form
						trait = master_cat_form
					}
					has_character_flag = cat_form_1
			}
			}
		}
	}
	2 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				NAND = {
					OR = {
						trait = cat_form
						trait = master_cat_form
					}
					has_character_flag = cat_form_2
			}
			}
		}
	}
	3 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				NAND = {
					OR = {
						trait = cat_form
						trait = master_cat_form
					}
					has_character_flag = cat_form_3
			}
			}
		}
	}
	4 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				NAND = {
					OR = {
						trait = cat_form
						trait = master_cat_form
					}
					has_character_flag = cat_form_4
			}
			}
		}
	}
	5 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = creature_tauren
				trait = creature_troll
				trait = worgen
				NAND = {
					OR = {
						trait = cat_form
						trait = master_cat_form
					}
					has_character_flag = cat_form_5
			}
			}
		}
	}
	6 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_1
				trait = creature_tauren
			}
		}
	}
	7 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_2
				trait = creature_tauren
			}
		}
	}
	8 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_3
				trait = creature_tauren
			}
		}
	}
	9 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_4
				trait = creature_tauren
			}
		}
	}
	10 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_5
				trait = creature_tauren
			}
		}
	}
	
	11 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_1
				trait = creature_troll
			}
		}
	}
	12 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_2
				trait = creature_troll
			}
		}
	}
	13 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_3
				trait = creature_troll
			}
		}
	}
	14 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_4
				trait = creature_troll
			}
		}
	}
	15 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_5
				trait = creature_troll
			}
		}
	}
	
	16 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_1
				trait = worgen
			}
		}
	}
	17 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_2
				trait = worgen
			}
		}
	}
	18 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_3
				trait = worgen
			}
		}
	}
	19 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_4
				trait = worgen
			}
		}
	}
	20 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				OR = {
					trait = cat_form
					trait = master_cat_form
				}
				has_character_flag = cat_form_5
				trait = worgen
			}
		}
	}
	21 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				trait = pack_form
				has_character_flag = pack_form_1
			}
		}
	}
	22 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				trait = pack_form
				has_character_flag = pack_form_2
			}
		}
	}
	23 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				trait = pack_form
				has_character_flag = pack_form_3
			}
		}
	}
	24 = {
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				trait = pack_form
				has_character_flag = pack_form_4
			}
		}
	}
}

# p21 worgen_curse
21 = {
	0 = {
		factor = 1
		modifier = {
			factor = 0
			trait = worgen
		}
	}
	1 = {		# Male
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = worgen }
		}
		modifier = {
			factor = 0
			is_female = yes
		}
	}
	2 = {		# Female
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = worgen }
		}
		modifier = {
			factor = 0
			is_female = no
		}
	}
}

# p22 old gods
22 = {
	0 = {
		factor = 1
		modifier = {
			factor = 0
			trait = creature_old_god
		}
	}
	1 = {		# C'thun
		factor = 1
		modifier = {
			factor = 0
			NOT = { character = 370000 }
		}
	}
	2 = {		# Yogg-Saron
		factor = 1
		modifier = {
			factor = 0
			NOT = { character = 370002 }
		}
	}
	3 = {		# Y'shaarj
		factor = 1
		modifier = {
			factor = 0
			NOT = { character = 370003 }
		}
	}
	4 = {		# N'zoth
		factor = 1
		modifier = {
			factor = 0
			NOT = { character = 370001 }
		}
	}
}
# lore night elves
23 = {
	0 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				character = 340008
				character = 340003
				character = 340009
				character = 340021
			}
		}
	}
	1 = {		# Malfurion
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { character = 340008 }
				AND = {
					character = 340008
					trait = bear_form
				}
				AND = {
					character = 340008
					trait = master_bear_form
				}
			}
		}
	}
	2 = {		# Malfurion Bear Form
		factor = 1
		modifier = {
			factor = 0
			NAND = { 
				character = 340008
				OR = {
					trait = bear_form
					trait = master_bear_form
				}
			}
		}
	}
	3 = {		# Tyrande
		factor = 1
		modifier = {
			factor = 0
			NOT = { character = 340003 }
		}
	}
	4 = {		# Tyrande NW not used
		factor = 0
		modifier = {
			factor = 0
			NOT = { character = 340003 }
		}
	}
	5 = {		# Maiev
		factor = 1
		modifier = {
			factor = 0
			NOT = { character = 340021 }
		}
	}
	6 = {		# Illidan
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { character = 340009 }
				trait = being_demon
			}
		}
	}
	7 = {		# Illidan
		factor = 1
		modifier = {
			factor = 0
			NAND = { 
				character = 340009 
				trait = being_demon
			}
		}
	}
}
# p24 dryads
24 = {
	0 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				character = 410002
				character = 340003
			}
		}
	}
	1 = {		# Cenarius
		factor = 1
		modifier = {
			factor = 0
			NOT = { character = 410002 }
		}
	}
	2 = {		# Cenarius Tainted
		factor = 0
		modifier = {
			factor = 0
			NOT = { character = 410002 }
		}
	}
	3 = {		# Cenarius Nightmare
		factor = 0
		modifier = {
			factor = 0
			NOT = { character = 410002 }
		}
	}
	4 = {		# Mylune
		factor = 1
		modifier = {
			factor = 0
			NOT = { character = 410003 }
		}
	}
}
# p25 humans
25 = {
	0 = {
		factor = 1
		modifier = {
			factor = 0
			OR = {
				character = 5000
				character = 46001
			}
		}
	}
	1 = {		# Medivh
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { character = 5000 }
				trait = being_demon
			}
		}
	}
	2 = {		## Medivh Evil
		factor = 1
		modifier = {
			factor = 0
			NAND = { 
				character = 5000 
				trait = being_demon
			}
		}
	}
	3 = {		# Genn young
		factor = 1
		modifier = {
			factor = 0
			NAND = { 
				character = 46001
				AND = {
					age < 40
					age > 16
				}
			}
		}
		modifier = {
			factor = 0
			trait = being_undead 
		}
	}
	4 = {		# Genn middle
		factor = 1
		modifier = {
			factor = 0
			NAND = { 
				character = 46001
				AND = {
					age > 40
					age < 60
				}
			}
		}
		modifier = {
			factor = 0
			trait = being_undead 
		}
	}
	5 = {		# Genn old
		factor = 1
		modifier = {
			factor = 0
			NAND = {
				character = 46001
				age > 60 
			}
		}
		modifier = {
			factor = 0
			trait = being_undead 
		}
	}
}